对于 `create-react-app` 创建的项目，它默认不会读取 `.babelrc` 配置文件，而是使用自己内部的一套配置。

如果想定制这种项目的 Babel 配置，需要使用 `@craco/craco` 或 `react-app-rewired`。

# 使用 `@craco/craco` 定制 Babel

请参考 [“CreateReactApp / Babel”](/snippet/cra/babel) 章节。

# 使用 `react-app-rewired` 定制 Babel

依赖项：

```bash
npm add -D react-app-rewired customize-cra
```

修改 `package.json`：

```json
{
  "scripts": {
    "start": "react-app-rewired start",
    "build": "react-app-rewired build",
    "eject": "react-scripts eject"
  }
}
```

创建 `config-overrides.js` 配置文件，然后根据你的需求从以下方式中二选一：

复用已有的 `.babelrc` 配置：

```js
const { override, useBabelRc } = require('customize-cra')

module.exports = {
  webpack: override(useBabelRc()),
}
```

或者，使用 `customize-cra` 的 API 来定制 Babel：

```js
const { override, fixBabelImports, addBabelPlugin } = require('customize-cra')

module.exports = {
  webpack: override(
    // 快速配置 babel-plugin-import
    fixBabelImports('import', { libraryName: 'antd', style: true }),

    // 添加 Babel 插件
    addBabelPlugin('@emotion')
  ),
}
```
